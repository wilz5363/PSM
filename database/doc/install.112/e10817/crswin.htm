<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-03-15T17:55:42Z" />
<meta name="doctitle" content="Oracle&reg; Grid Infrastructure Installation Guide 11g Release 2 (11.2) for Microsoft Windows" />
<meta name="partno" content="E10817-01" />
<meta name="docid" content="CWWIN" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="storage.htm" title="Previous" type="text/html" />
<link rel="Next" href="postinst.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10817.pdf" title="PDF version" type="application/pdf" />
<title>Installing Oracle Grid Infrastructure for a Cluster</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Grid Infrastructure Installation Guide<br />
11<i>g</i> Release 2 (11.2) for Microsoft Windows</b><br />
Part Number E10817-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="storage.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10817.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BEHHDFEF" name="BEHHDFEF"></a>
<h1 class="chapter"><span class="secnum">4</span> Installing Oracle Grid Infrastructure for a Cluster</h1>
<p>This chapter describes the procedures for <a id="sthref369" name="sthref369"></a>installing Oracle Grid Infrastructure for a cluster. Oracle Grid Infrastructure consists of Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM). If you plan afterward to install Oracle Database with Oracle Real Application Clusters (Oracle RAC), then this is phase one of a two-phase installation.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#BABEIDJJ">Preparing to Install Oracle Grid Infrastructure with OUI</a></p>
</li>
<li>
<p><a href="#BABFEIAE">Installing Grid Infrastructure with OUI</a></p>
</li>
<li>
<p><a href="#BABHDJJG">Installing Grid Infrastructure Using a Software-Only Installation</a></p>
</li>
<li>
<p><a href="#BABFFCEB">Confirming Oracle Clusterware Function</a></p>
</li>
<li>
<p><a href="#BABBEACJ">Confirming Oracle ASM Function for Oracle Clusterware Files</a></p>
</li>
</ul>
<div class="infoboxnote">
<p class="notep1">Note:</p>
The second phase of an Oracle RAC installation, installing Oracle RAC, is described in <a class="olink RIWIN" href="../../install.112/e10818/toc.htm"><span class="italic">Oracle Real Application Clusters Installation Guide</span>.</a></div>
<a id="BABEIDJJ" name="BABEIDJJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.1</span> Preparing to Install Oracle Grid Infrastructure with OUI</h2>
<p>Before you install Oracle Grid Infrastructure with Oracle Universal Installer (OUI), use the following checklist to ensure that you have all the information you will need during installation, and to ensure that you have completed all tasks that must be done before starting your installation. Mark the box for each task as you complete it, and record the information needed, so that you can provide it during installation.</p>
<ul>
<li>
<p><span class="bold">Verify Cluster Privileges</span></p>
<p>Before running Oracle Universal Installer, from the node where you intend to run the Installer, verify that you are logged in using a member of the Administrators group, and that this user is an Administrator user on the other nodes in the cluster. To do this, enter the following command for each node that is a part of the cluster:</p>
<pre xml:space="preserve" class="oac_no_warn">net use \\<span class="italic">nodename</span>\C$
</pre>
<p>where <code><span class="codeinlineitalic">nodename</span></code> is the node name. Repeat for each node in the cluster.</p>
</li>
<li>
<p><span class="bold">Shut Down Running Oracle Processes</span></p>
<p>You may need to shut down running Oracle processes:</p>
<p><span class="bold">Installing on a node with a standalone database not using Oracle ASM</span>: You do not need to shut down the database while you install Oracle Grid Infrastructure software.</p>
<p><span class="bold">Installing on an Oracle RAC database node</span>: This installation requires an upgrade of Oracle Clusterware, because Oracle Clusterware is required to run Oracle RAC. As part of the upgrade, you must shut down the database one node at a time as the rolling upgrade proceeds from node to node.</p>
<p><a id="sthref370" name="sthref370"></a>If a Global Services Daemon (GSD) from Oracle9<span class="italic">i</span> Release 9.2 or earlier is running, then stop it before installing Oracle Grid Infrastructure by running the following command, where <code><span class="codeinlineitalic">Oracle_home</span></code> is the Oracle Database home that is running the GSD:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">Oracle_home</span>\bin\gsdctl stop
</pre>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
If you have an existing Oracle9<span class="italic">i</span> release 2 (9.2) Oracle Cluster Manager (Oracle CM) installation, then <span class="italic">do not</span> shut down the Oracle CM service. Shutting down the Oracle CM service prevents the Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2) software from detecting the Oracle9<span class="italic">i</span> release 2 node list, and causes failure of the Oracle Grid Infrastructure installation.</div>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If <a id="sthref371" name="sthref371"></a>you receive a warning to stop all Oracle services after starting OUI, then run the command, where <code><span class="codeinlineitalic">Oracle_home</span></code> is the home that is running CSS:
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">Oracle_home</span>\bin\localconfig delete
</pre></div>
</li>
<li>
<p><span class="bold">Prepare for Oracle Automatic Storage Management and Oracle Clusterware Upgrade If You Have Existing Installations</span><a id="sthref372" name="sthref372"></a><a id="sthref373" name="sthref373"></a><a id="sthref374" name="sthref374"></a><a id="sthref375" name="sthref375"></a><a id="sthref376" name="sthref376"></a><a id="sthref377" name="sthref377"></a></p>
<p>During installation, you can upgrade existing Oracle Clusterware and clustered Oracle ASM installations to Oracle Grid Infrastructure 11<span class="italic">g</span> release 2.</p>
<p>When all member nodes of the cluster are running Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2), then the new clusterware becomes the active version.</p>
<p>If you intend to install Oracle RAC, then you must first complete the upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> release 2 (11.2) on all cluster nodes before you install the Oracle Database 11<span class="italic">g</span> release 2 (11.2) version of Oracle RAC.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
All Oracle Grid Infrastructure upgrades (upgrades of existing Oracle Clusterware and clustered Oracle ASM installations) are out-of-place upgrades.</div>
</li>
<li>
<p><span class="bold">Obtain LOCAL_SYSTEM administrator access</span></p>
<p><a id="sthref378" name="sthref378"></a>Oracle Grid Infrastructure must be installed using an Administrator user, one with LOCAL_SYSTEM privileges, or a member of the local Administrators group. If you do not have Administrator access to each node in the cluster, then ask your system administrator to create and configure the user account on each node.</p>
</li>
<li>
<p><span class="bold">Decide if you want to install other languages</span><a id="sthref379" name="sthref379"></a><a id="sthref380" name="sthref380"></a></p>
<p>During an Advanced installation session, you are asked if you want translation of user interface text into languages other than the default, which is English.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If the language set for the operating system is not supported by the installer, then by default the installer runs in English.</div>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink NLSPG" href="http://www.oracle.com/pls/db112/lookup?id=NLSPG"><span class="italic">Oracle Database Globalization Support Guide</span></a> for detailed information on character sets and language configuration</div>
</li>
<li>
<p><span class="bold">Determine your cluster name, public node names, SCAN names, virtual node names, and planned interface use for each node in the cluster</span></p>
<p>During installation, you are prompted to provide the public and virtual hostname, unless you use a third party cluster software. In that case, the public hostname information will be filled in. You are also prompted to identify which interfaces are public, private, or interfaces in use for another purpose, such as a network file system.</p>
<p>If you use Grid Naming Service (GNS), then OUI displays the public and virtual hostname addresses labeled as "AUTO" because they are configured automatically by GNS.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If you configure IP addresses manually, then avoid changing host names<a id="sthref381" name="sthref381"></a><a id="sthref382" name="sthref382"></a> after you complete the Oracle Grid Infrastructure installation, including adding or deleting domain qualifications. A node with a new hostname is considered a new host, and must be added to the cluster. A node under the old name will appear to be down until it is removed from the cluster.</div>
<p>When you enter the <a id="sthref383" name="sthref383"></a>public node name, use the primary host name of each node. In other words, use the name displayed by the <code>hostname</code> command. This node name can be either the permanent or the virtual host name. The node name should contain only single-byte alphanumeric characters (a to z, A to Z, and 0 to 9). Do not use underscores (_) or any other characters in the hostname.</p>
<p>In addition:</p>
<ul>
<li>
<p>Provide a <a id="sthref384" name="sthref384"></a><a id="sthref385" name="sthref385"></a><a id="sthref386" name="sthref386"></a>cluster name with the following characteristics:</p>
<ul>
<li>
<p>It must be globally unique throughout your host domain.</p>
</li>
<li>
<p>It must be at least one character long and fewer than 15 characters long.</p>
</li>
<li>
<p>It must consist of the same character set used for host names, in accordance with RFC 1123: Hyphens (-), and single-byte alphanumeric characters (a to z, A to Z, and 0 to 9).</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
Windows operating systems allow underscores to be used with hostnames, but underscored names are not legal hostnames for a DNS, and they should be avoided.</div>
</li>
</ul>
</li>
<li>
<p>If you are not using Grid Naming Service (GNS), then determine a <a id="sthref387" name="sthref387"></a>virtual host name for each node. A virtual host name is a public node name that is used to reroute client requests sent to the node if the node is down. Oracle Database uses VIPs for client-to-database connections, so the VIP address must be publicly accessible. <a id="sthref388" name="sthref388"></a>Oracle recommends that you provide a name in the format <span class="italic">hostname</span>-vip. For example: <code>myclstr2-vip</code>.</p>
</li>
<li>
<p><a id="sthref389" name="sthref389"></a>Provide SCAN addresses for client access to the cluster. These addresses should be configured as round robin addresses on the domain name service (DNS). Oracle recommends that you supply three SCAN addresses.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
The following is a list of additional information about node IP addresses:
<ul>
<li>
<p>For the local node only, OUI automatically fills in public and VIP fields. If your system uses vendor clusterware, then OUI may fill additional fields.</p>
</li>
<li>
<p>Node names are not domain-qualified. If you provide a domain in the host name field during installation, then OUI removes the domain from the name.</p>
</li>
<li>
<p>Interfaces identified as private for private IP addresses should not be accessible as public interfaces. Using public interfaces for Cache Fusion can cause performance problems.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Identify public and <a id="sthref390" name="sthref390"></a>private interfaces. OUI configures public interfaces for use by public and virtual IP addresses, and configures private IP addresses on private interfaces.</p>
<p>The private subnet that the private interfaces use must connect all the nodes you intend to have as cluster members.</p>
</li>
</ul>
</li>
<li>
<p><span class="bold">Identify shared storage for Oracle Clusterware files and prepare storage if necessary</span></p>
<p>During installation, you are asked to provide paths for the following Oracle Clusterware files. These files must be shared across all nodes of the cluster, either on Oracle Automatic Storage Management, or on a supported third party cluster file system:</p>
<ul>
<li>
<p><a id="sthref391" name="sthref391"></a>Voting disks are files that Oracle Clusterware uses to verify cluster node membership and status.</p>
</li>
<li>
<p><a id="sthref392" name="sthref392"></a>Oracle Cluster Registry files (OCR) contain cluster and database configuration information for Oracle Clusterware.</p>
</li>
</ul>
<p>If you intend to use Oracle Cluster File System (OCFS) for Windows, then you are prompted to indicate which of the available disks you want to format with OCFS for Windows, what format type you want to use, and to what drive letter the formatted OCFS for Windows disk is mounted.</p>
<p><a id="sthref393" name="sthref393"></a>If your file system does not have external storage redundancy, then Oracle recommends that you provide two additional locations for the OCR disk and the voting disk, for a total of at least three partitions. Creating redundant storage locations protects the OCR and voting disk in the event of a failure. To completely protect your cluster, the storage locations given for the copies of the OCR and voting disks should have completely separate paths, controllers, and disks, so that no single point of failure is shared by storage locations.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="storage.htm#CDECEBGH">Chapter 3, "Configuring Storage for Grid Infrastructure for a Cluster and Oracle RAC"</a></div>
</li>
<li>
<p><span class="bold">Disconnect all non-persistent drives</span></p>
<p>Before starting the Oracle Grid Infrastructure installation on Windows, please make sure that you disconnect all nonpersistent drives that are temporarily mounted on all the nodes. Alternatively, if you want to access the shared drive, then make the shared drive persistent using the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">net use * \\servername\sharename /persistent: YES
</pre></li>
<li>
<p><a id="sthref394" name="sthref394"></a><a id="sthref395" name="sthref395"></a><span class="bold">Have IPMI Configuration completed and have IPMI administrator account information</span></p>
<p>If you intend to use IPMI, then ensure BMC interfaces are configured, and have an administration account username and password to provide when prompted during installation.</p>
<p>For nonstandard installations, if you must change the configuration on one or more nodes after installation (for example, if you have different administrator usernames and passwords for BMC interfaces on cluster nodes), then decide if you want to reconfigure the BMC interface, or modify IPMI administrator account information after installation as described in <a href="postinst.htm#BABHHEHG">Chapter 5, "Oracle Grid Infrastructure Postinstallation Procedures"</a>.</p>
</li>
<li>
<p><span class="bold"><a id="sthref396" name="sthref396"></a><a id="sthref397" name="sthref397"></a>Ensure the Oracle home path you select for the grid infrastructure home uses only ASCII characters</span></p>
<p>At the time of this release, the use of non-ASCII characters for a grid infrastructure home or Oracle Database home is not supported.</p>
</li>
</ul>
</div>
<!-- class="sect1" -->
<a id="BABFEIAE" name="BABFEIAE"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">4.2</span> Installing Grid Infrastructure with OUI</h2>
<p>This section provides information about how to use <a id="sthref398" name="sthref398"></a><a id="sthref399" name="sthref399"></a>Oracle Universal Installer (OUI) to install Oracle Grid Infrastructure. It contains the following sections:</p>
<ul>
<li>
<p><a href="#BABHJHDC">Running OUI to Install Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#BABJJJCA">Installing Grid Infrastructure Using a Cluster Configuration File</a></p>
</li>
<li>
<p><a href="#BABGGCJG">Silent Installation of Oracle Clusterware</a></p>
</li>
</ul>
<a id="BABHJHDC" name="BABHJHDC"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">4.2.1</span> Running OUI to Install Grid Infrastructure</h3>
<p>Complete the following steps to install grid infrastructure (Oracle Clusterware and Oracle Automatic Storage Management) on your cluster. You can run OUI from a VNC session, or Terminal Services in console mode.</p>
<p>At any time during installation, if you have a question about what you are being asked to do, then click the <span class="bold">Help</span> button on the OUI page.</p>
<ol>
<li>
<p>Log in to Windows using a member of the Administrators group and run the <code>setup.exe</code> command from the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) installation media.</p>
</li>
<li>
<p>Provide information as prompted by OUI. If you need assistance during installation, then click <span class="bold">Help</span>. <a id="sthref400" name="sthref400"></a><a id="sthref401" name="sthref401"></a>At the end of the installation interview, you can click <span class="bold">Details</span> to see the log file.</p>
</li>
<li style="list-style: none">
<div class="infoboxnote">
<p class="notep1">Note:</p>
<ul>
<li>
<p><a id="sthref402" name="sthref402"></a>If you are upgrading your cluster or part of your cluster from Oracle9<span class="italic">i</span> release 2 Cluster Ready Services to Oracle Clusterware 11<span class="italic">g</span>, then to ensure backward compatibility, OUI prevents you from changing the cluster name from the existing name by disabling the cluster name field.</p>
</li>
<li>
<p><a id="sthref403" name="sthref403"></a><a id="sthref404" name="sthref404"></a>To use Oracle9<span class="italic">i</span> RAC, you must use Oracle9<span class="italic">i</span> Cluster Manager. You can run Oracle9<span class="italic">i</span> Cluster Manager on the same server as Oracle Clusterware; however, Oracle Clusterware will manage Oracle Database and Oracle RAC releases 10.1 and higher and Oracle9<span class="italic">i</span> Cluster Manager will manage Oracle9<span class="italic">i</span> RAC databases.</p>
</li>
<li>
<p>You cannot use Oracle ASM with Oracle9<span class="italic">i</span> Cluster Manager.</p>
</li>
</ul>
</div>
</li>
<li>
<p>After you have specified all the information needed for installation, OUI installs the software then runs the <a id="sthref405" name="sthref405"></a>Oracle Net Configuration Assistant, <a id="sthref406" name="sthref406"></a>Oracle Private Interconnect Configuration Assistant, and Cluster Verification Utility. These programs run without user intervention.</p>
</li>
<li>
<p>If you selected to configure Oracle Cluster Registry and voting disk files on Oracle Automatic Storage Management Cluster File System, then the Oracle Automatic Storage Management Configuration Assistant (ASMCA) configures Oracle ASM as part of the installation process. If you did not select Oracle ASM as the storage option for the OCR and voting disk files, then you must start ASMCA manually after installation to configure Oracle ASM.</p>
<p>Start ASMCA using the following command, where <code><span class="codeinlineitalic">Grid_home</span></code> is the grid infrastructure home:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">Grid_home</span>\bin\asmca
</pre></li>
</ol>
<p>When you have verified that your Oracle Grid Infrastructure installation has completed successfully, you can either use it to maintain high availability for other applications, or you can install an Oracle Database software.</p>
<p>If you intend to install Oracle Database 11<span class="italic">g</span> release 2 (11.2) with Oracle RAC, then refer to <span class="italic">Oracle Real Application Clusters Installation Guide</span> <span class="italic">for Microsoft Windows</span>. If you intend to use Oracle Grid Infrastructure on a standalone server (an Oracle Restart deployment), then refer to <a class="olink NTDBI" href="../../install.112/e10843/toc.htm"><span class="italic">Oracle Database Installation Guide for Microsoft Windows</span></a>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD" href="http://www.oracle.com/pls/db112/lookup?id=RACAD"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information about using cloning and node addition procedures, and <a class="olink CWADD" href="http://www.oracle.com/pls/db112/lookup?id=CWADD"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for cloning Oracle Grid Infrastructure</div>
</div>
<!-- class="sect2" -->
<a id="BABJJJCA" name="BABJJJCA"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">4.2.2</span> Installing Grid Infrastructure Using a Cluster Configuration File<a id="sthref407" name="sthref407"></a><a id="sthref408" name="sthref408"></a></h3>
<p>During installation of grid infrastructure, you are given the option either of providing cluster configuration information manually, or of using a cluster configuration file. A cluster configuration file is a text file that you can create before starting OUI, which provides OUI with information about the cluster node names that it requires to configure the cluster. When creating the text file, save the file with the extension .ccf because the installer only accepts a file of type of Oracle Cluster Configuration File (.ccf).</p>
<p>The cluster configuration file should have the following syntax, where <span class="italic">node</span> is the name of the public host name for a node in the cluster, and <span class="italic">vip</span> is the virtual IP address for that node:</p>
<pre xml:space="preserve" class="oac_no_warn">node     vip
node     vip
...
</pre>
<p>For example, if have three nodes for your cluster, with host names <code>RACnode1</code>, <code>RACnode2</code> and <code>RACnode3</code>, you could create a text file named <code>cluster_config.ccf</code>, with the following contents:</p>
<pre xml:space="preserve" class="oac_no_warn">RACnode1  RACnode1-vip
RACnode2  RACnode2-vip
RACnode3  RACnode3-vip
</pre>
<p>Oracle suggests that you consider using a cluster configuration file if you intend to perform repeated installations on a test cluster, or if you intend to perform an installation on many nodes.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="app_nonint.htm#BABFEECI">Appendix B, "Installing and Configuring Oracle Grid Infrastructure Using Response Files"</a> for more information about using configuration files</div>
</div>
<!-- class="sect2" -->
<a id="BABGGCJG" name="BABGGCJG"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">4.2.3</span> Silent Installation of Oracle Clusterware</h3>
<p>Complete the following procedure to perform a noninteractive (silent) installation:</p>
<ol>
<li>
<p>On the installation media, navigate to the directory <code>response</code>.</p>
</li>
<li>
<p>Using a text editor, open the response file <code>crs_install.rsp</code>. Follow the directions in each section, and supply values appropriate for your environment.</p>
</li>
<li>
<p>Use the following command syntax to run OUI in silent mode:</p>
<pre xml:space="preserve" class="oac_no_warn">setup.exe -silent -reponseFile <span class="italic">path_to_your_reponse_file</span>
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">E:\ setup.exe -silent -responseFile C:\users\oracle\installGrid.rsp
</pre></li>
</ol>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a href="app_nonint.htm#BABFEECI">Appendix B, "Installing and Configuring Oracle Grid Infrastructure Using Response Files"</a> for more information about performing silent installations using configuration files</div>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABHDJJG" name="BABHDJJG"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.3</span> Installing Grid Infrastructure Using a Software-Only Installation</h2>
<p>A software-only installation only copies the Oracle Grid Infrastructure for a cluster binaries to the specified node. Configuring Oracle Grid Infrastructure for a cluster and Oracle ASM on all the nodes and then adding the nodes to the cluster must be done manually after the installation has finished.</p>
<p>When you perform a software-only installation of Oracle Grid Infrastructure software, you need to complete several manual configuration steps to enable Oracle Clusterware after you install the software on each node you intend to be a member of the cluster.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
<a id="sthref409" name="sthref409"></a>Oracle recommends that only advanced users perform the software-only installation, because this installation method provides no validation of the installation and this installation option requires manual postinstallation steps to enable the grid infrastructure software.</div>
<p>If you select a software-only installation, then ensure that the Oracle Grid Infrastructure home path is identical on each cluster member node.</p>
<p>Performing a software-only installation involves the following steps:</p>
<ol>
<li>
<p><a href="#BABJCGDC">Installing the Software Binaries</a></p>
</li>
<li>
<p><a href="#BABCBCIA">Configuring the Software Binaries</a></p>
</li>
</ol>
<a id="BABJCGDC" name="BABJCGDC"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">4.3.1</span> Installing the Software Binaries</h3>
<ol>
<li>
<p><a id="sthref410" name="sthref410"></a>Log in to Windows using a member of the Administrators group and run the <code>setup.exe</code> command from the Oracle Database 11<span class="italic">g</span> Release 2 (11.2) installation media.</p>
</li>
<li>
<p>Complete a software-only installation of Oracle Grid Infrastructure for a cluster on the node.</p>
<p>See <a href="#BABCBCIA">"Configuring the Software Binaries"</a> for information about configuring Oracle Grid Infrastructure after preforming a software-only installation.</p>
</li>
<li>
<p>Enable the Oracle RAC option for Oracle Grid infrastructure by renaming the <code>orarac11.dll.dbl</code> file located in the <code><span class="codeinlineitalic">Grid_home</span></code><code>\bin</code> directory to <code>orarac11.dll</code>.</p>
</li>
<li>
<p>V<a id="sthref411" name="sthref411"></a>erify that all of the cluster nodes meet the installation requirements using the command <code>runcluvfy.bat stage -pre crsinst -n</code> <code><span class="codeinlineitalic">node_list</span></code>. Ensure that you have completed all storage and server preinstallation requirements.</p>
</li>
<li>
<p>Copy the Grid home directory to the same location on the other nodes that you want to configure as cluster member nodes.</p>
</li>
<li>
<p>On each node that you copied the Grid home to, run the <code>clone.pl</code> script.</p>
<p>Do not run the <code>clone.pl</code> script on the node where you performed the software-only installation.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="BABCBCIA" name="BABCBCIA"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">4.3.2</span> Configuring the Software Binaries</h3>
<p>To configure and activate a software-only grid infrastructure installation for a cluster, complete the following tasks:</p>
<ol>
<li>
<p>Using a text editor, modify the template file <code><span class="codeinlineitalic">Grid_home</span></code><code>\crs\install\crsconfig_params</code> for the installer to use to configure the cluster. For example:</p>
<pre xml:space="preserve" class="oac_no_warn">...
OCR_LOCATIONS=E:\grid\stor1\ocr,F:\grid\stor2\ocr
CLUSTER_NAME=racwin-cluster
HOST_NAME_LIST=node1,node2,node3,node4
NODE_NAME_LIST=node1,node2,node3,node4
PRIVATE_NAME_LIST=
VOTING_DISKS=E:\grid\stor1\vdsk,F:\grid\stor2\vdsk,G:\grid\stor3\vdsk
...
CRS_STORAGE_OPTION=2
CSS_LEASEDURATION=400
CRS_NODEVIPS='node1-vip/255.255.255.0/PublicNIC,node2-vip/255.255.255.0/PublicNIC,
 node3-vip/255.255.255.0/PublicNIC,node4-vip/255.255.255.0/PublicNIC'
NODELIST=node1,node2,node3,node4
NETWORKS=192.0.2.1\:public,10.0.0.1\:cluster_interconnect
SCAN_NAME=racwin-cluster
SCAN_PORT=1521
...
#### Required by OUI add node
NEW_HOST_NAME_LIST=
NEW_NODE_NAME_LIST=
NEW_PRIVATE_NAME_LIST=
...
</pre></li>
<li>
<p>On all nodes, place the <code>crsconfig_params</code> file in the path <code><span class="codeinlineitalic">Grid_home</span></code><code>\crs\install\crsconfig_params</code>, where <code><span class="codeinlineitalic">Grid_home</span></code> is the path to the Oracle Grid Infrastructure home for a cluster. For example, on <code>node1</code> you might issue a command similar to the following:</p>
<pre xml:space="preserve" class="oac_no_warn">C:&gt; xcopy app\orauser\grid\crs\install\crsconfig_params \\NODE2\app\orauser\grid\crs\install /v
</pre></li>
<li>
<p>After configuring the <code>crsconfig_params</code> file, run the <code>rootcrs.pl</code> script from the <code><span class="codeinlineitalic">Grid_home</span></code> on each node, using the following syntax:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">Grid_home</span>\perl\lib\perl -IGrid_home\perl\lib -IGrid_home\crs\install 
<span class="italic">Grid_home</span>\crs\install\rootcrs.pl
</pre>
<p>For example, if your Grid home is <code>C:\app\11.2.0\grid</code>, then you would run the following script:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\app\11.2.0\grid\perl\lib\perl -IC:\app\11.2.0\grid\perl\lib -IC:\app
\11.2.0\grid\crs\install C:\app\11.2.0\grid\crs\install\rootcrs.pl
</pre></li>
<li>
<p>Change directory to <code><span class="codeinlineitalic">Grid_home</span></code><code>\oui\bin</code>, where <code><span class="codeinlineitalic">Grid_home</span></code> is the path of the Grid Infrastructure home on each cluster member node.</p>
</li>
<li>
<p>Enter the following command syntax, where <code><span class="codeinlineitalic">Grid_home</span></code> is the path of the Grid Infrastructure home on each cluster member node, and <code><span class="codeinlineitalic">node_list</span></code> is a comma-delimited list of nodes on which you want the software enabled:</p>
<pre xml:space="preserve" class="oac_no_warn">setup.exe -updateNodeList ORACLE_HOME=<span class="italic">Grid_home</span> -defaultHomeName
"CLUSTER_NODES={<span class="italic">node_list</span>}" CRS=TRUE
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\..\bin&gt; setup.exe -updateNodeList ORACLE_HOME=C:\app\orauser\grid
 -defaultHomeName "CLUSTER_NODES={node1,node2,node3,node4}" CRS=TRUE
</pre>
<p>To enable the Oracle Clusterware installation on the local node only, enter the following command, where <code><span class="codeinlineitalic">Grid_home</span></code> is the Grid home on the local node, and <code><span class="codeinlineitalic">node_list</span></code> is a comma-delimited list of nodes on which you want the software enabled:</p>
<pre xml:space="preserve" class="oac_no_warn">setup.exe -updateNodeList -local ORACLE_HOME=<span class="italic">Grid_home</span> 
-defaultHomeName "CLUSTER_NODES={<span class="italic">node_list</span>}" CRS=TRUE
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\..\bin&gt; setup.exe -updateNodeList -local ORACLE_HOME=C:\app\orauser\
grid -defaultHomeName "CLUSTER_NODES={node1,node2,node3,node4}" CRS=TRUE
</pre></li>
</ol>
<p>If you want to configure and activate a software-only grid infrastructure installation for a stand-alone server, then refer to</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="BABFFCEB" name="BABFFCEB"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.4</span> Confirming Oracle Clusterware Function</h2>
<p><a id="sthref412" name="sthref412"></a>After installation, log in using a member of the Administrators group, and run the following command from the <code>bin</code> directory in the Grid home to confirm that your Oracle Clusterware installation is installed and running correctly:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl check cluster -all
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\..\bin\&gt; crsctl check cluster -all
 
*************************************************************************
node1:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
*************************************************************************
node2:
CRS-4537: Cluster Ready Services is online
CRS-4529: Cluster Synchronization Services is online
CRS-4533: Event Manager is online
*************************************************************************
</pre></div>
<!-- class="sect1" -->
<a id="BABBEACJ" name="BABBEACJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">4.5</span> Confirming Oracle ASM Function for Oracle Clusterware Files</h2>
<p><a id="sthref413" name="sthref413"></a>If you installed the OCR and voting disk files on Oracle ASM, then run the following command from the <code><span class="codeinlineitalic">Grid_home</span></code><code>\bin</code> directory to confirm that your Oracle ASM installation is running:</p>
<pre xml:space="preserve" class="oac_no_warn">srvctl status asm
</pre>
<p>For example:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\app\11.2.0\grid\BIN&gt; srvctl status asm
ASM is running on node node1
ASM is running on node node2
</pre>
<p>Oracle ASM is running only if it is needed for Oracle Clusterware files. If you did not configure Oracle Clusterware storage on Oracle ASM during installation, then the Oracle ASM instance should be down.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
To manage Oracle ASM or Oracle Net Services on Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2) or later installations, use the <code>srvctl</code> binary in the Oracle Grid Infrastructure home for a cluster (Grid home). If you have Oracle Real Application Clusters or Oracle Database installed, then you cannot use the <code>srvctl</code> binary in the database home (Oracle home) to manage Oracle ASM or Oracle Net Services.</div>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="storage.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="postinst.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
