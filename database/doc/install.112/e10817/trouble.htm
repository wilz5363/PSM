<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-03-15T17:55:42Z" />
<meta name="doctitle" content="Oracle&reg; Grid Infrastructure Installation Guide 11g Release 2 (11.2) for Microsoft Windows" />
<meta name="partno" content="E10817-01" />
<meta name="docid" content="CWWIN" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="rem_orcl.htm" title="Previous" type="text/html" />
<link rel="Next" href="app_nonint.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10817.pdf" title="PDF version" type="application/pdf" />
<title>Troubleshooting the Oracle Grid Infrastructure Installation Process</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Grid Infrastructure Installation Guide<br />
11<i>g</i> Release 2 (11.2) for Microsoft Windows</b><br />
Part Number E10817-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="app_nonint.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10817.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="CIACEGFJ" name="CIACEGFJ"></a>
<h1 class="appendix"><span class="secnum">A</span> Troubleshooting the Oracle Grid Infrastructure Installation Process</h1>
<p>This appendix provides troubleshooting information for installing Oracle Grid Infrastructure.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The Oracle Database 11<span class="italic">g</span> Oracle Real Application Clusters (Oracle RAC) documentation set included with the installation media in the Documentation directory:
<ul>
<li>
<p><a class="olink CWADD" href="http://www.oracle.com/pls/db112/lookup?id=CWADD"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a class="olink RACAD" href="http://www.oracle.com/pls/db112/lookup?id=RACAD"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></p>
</li>
<li>
<p><a class="olink RIWIN" href="../../install.112/e10818/toc.htm"><span class="italic">Oracle Real Application Clusters Installation Guide</span></a></p>
</li>
</ul>
</div>
<p>This appendix contains the following topics:</p>
<ul>
<li>
<p><a href="#CIAHHGEB">General Installation Issues</a></p>
</li>
<li>
<p><a href="#CIAFFECC">About the Oracle Clusterware Alert Log</a></p>
</li>
<li>
<p><a href="#BABIJADG">Oracle Clusterware Install Actions Log Errors and Causes</a></p>
</li>
<li>
<p><a href="#CIAJDDHB">Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</a></p>
</li>
<li>
<p><a href="#CIADFHJJ">Interconnect Configuration Issues</a></p>
</li>
</ul>
<a id="CIAHHGEB" name="CIAHHGEB"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.1</span> General Installation Issues<a id="sthref455" name="sthref455"></a></h2>
<p>The following is a list of examples of types of errors that can occur during installation. It contains the following issues:</p>
<ul>
<li>
<p><a href="#CIAHIBGD">Nodes unavailable for selection from the OUI Node Selection screen</a></p>
</li>
<li>
<p><a href="#CIAHGBGC">Node <span class="italic">nodename</span> is unreachable</a></p>
</li>
<li>
<p><a href="#BABBCHAG">Shared disk access fails</a></p>
</li>
<li>
<p><a href="#tahiti50906697">Installation does not complete successfully on all nodes</a></p>
</li>
</ul>
<a id="CIACBFEA" name="CIACBFEA"></a>
<div class="msgset"><a id="CIAHIBGD" name="CIAHIBGD"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref456" name="sthref456"></a>Nodes unavailable for selection from the OUI Node Selection screen</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Oracle Grid Infrastructure is either not installed, or the Oracle Grid Infrastructure services are not up and running.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Install Oracle Grid Infrastructure, or review the status of your installation. Consider restarting the nodes, because doing so may resolve the problem.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="CIAHGBGC" name="CIAHGBGC"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref457" name="sthref457"></a>Node <span class="italic">nodename</span> is unreachable</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Unavailable IP host.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Attempt the following:
<ol>
<li>
<p>Run <a id="sthref458" name="sthref458"></a>the command <code>ipconfig /all</code>. Compare the output of this command with the contents of the <code>C:\WINDOWS\system32\drivers\etc\hosts</code> file to ensure that the node IP is listed.</p>
</li>
<li>
<p>Run <a id="sthref459" name="sthref459"></a>the command <code>nslookup</code> to see if the host is reachable.</p>
</li>
</ol>
</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="BABBCHAG" name="BABBCHAG"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref460" name="sthref460"></a>Shared disk access fails</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> Windows 2003 R2 does not automount RAW drives by default. This is a change from Windows 2000.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> Change the automount to enabled. Refer to <a href="storage.htm#CHDFAAFJ">"Enabling Automounting for Windows"</a></div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" -->
<a id="tahiti50906697" name="tahiti50906697"></a>
<div class="msgentry">
<dl>
<dt><span class="msg"><a id="sthref461" name="sthref461"></a>Installation does not complete successfully on all nodes</span> <!-- class="msg" --></dt>
<dd>
<div class="msgexplan"><span class="msgexplankw">Cause:</span> If a configuration issue prevents the Oracle grid infrastructure software from installing successfully on all nodes, you might see an error message such as "Timed out waiting for the CRS stack to start", or when you exit the installer you might notice that the Oracle Clusterware managed resources were not created on some nodes, or have a status other than ONLINE on those nodes.</div>
<!-- class="msgexplan" --></dd>
<dd>
<div class="msgaction"><span class="msgactionkw">Action:</span> One solution to this problem is to deconfigure Oracle Clusterware on the nodes where the installation did not complete successfully, and then fix the configuration issue that caused the installation on that node to error out. After the configuration issue has been fixed, you can then rerun the scripts used during installation to configure Oracle Clusterware. See <a href="rem_orcl.htm#CHDBFFJF">"Deconfiguring Oracle Clusterware without Removing Binaries"</a> for details.</div>
<!-- class="msgaction" --></dd>
</dl>
</div>
<!-- class="msgentry" --></div>
<!-- class="msgset" --></div>
<!-- class="sect1" -->
<a id="CIAFFECC" name="CIAFFECC"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.2</span> About the Oracle Clusterware Alert Log</h2>
<p>During installation, the Oracle Clusterware alert log is the first place to look for serious errors. In the event of an error, it can contain path information to diagnostic logs that can provide specific information about the cause of errors.</p>
<p>After installation, Oracle Clusterware posts alert messages when important events occur. For example, you might see alert messages from the Cluster Ready Services (CRS) daemon when it starts, if it aborts, if the failover process fails, or if automatic restart of a CRS resource failed.</p>
<p>Enterprise Manager monitors the Clusterware log file and posts an alert on the Cluster Home page if an error is detected. For example, if a voting disk is not available, then a <code>CRS-1604</code> error is raised, and a critical alert is posted on the Cluster Home page. You can customize the error detection and alert settings on the Metric and Policy Settings page.</p>
<p>The location of the Oracle Clusterware log file is <code><span class="codeinlineitalic">Grid_home\</span></code><code>log\</code><code><span class="codeinlineitalic">hostname</span></code><code>\alert</code><code><span class="codeinlineitalic">hostname</span></code><code>.log</code>, where <code><span class="codeinlineitalic">Grid_home</span></code> is the directory in which Oracle Grid infrastructure was installed and <code><span class="codeinlineitalic">hostname</span></code> is the host name of the local node.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink RACAD" href="http://www.oracle.com/pls/db112/lookup?id=RACAD"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a></div>
</div>
<!-- class="sect1" -->
<a id="BABIJADG" name="BABIJADG"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">A.3</span> Oracle Clusterware Install Actions Log Errors and Causes</h2>
<p>During installation of the Oracle Grid Infrastructure software, a log file named <code>installActions&lt;</code><code><span class="codeinlineitalic">Date_Timestamp</span></code><code>&gt;.log</code> is written to the <code>%TEMP%\OraInstall&lt;</code><code><span class="codeinlineitalic">Date_Timestamp</span></code><code>&gt;</code> directory.</p>
<p>The following is a list of potential errors in the <code>installActions.log:</code></p>
<ul>
<li>
<p>PRIF-10: failed to initialize the cluster registry</p>
<p>Configuration assistant "Oracle Private Interconnect Configuration Assistant" failed</p>
</li>
<li>
<p>KFOD-0311: Error scanning device <span class="italic">device_path_name</span></p>
</li>
<li>
<p>Step 1: checking status of Oracle Clusterware cluster</p>
<p>Step 2: configuring OCR repository</p>
<p>ignoring upgrade failure of ocr(-1073740972)</p>
<p>failed to configure Oracle Cluster Registry with CLSCFG, ret -1073740972</p>
</li>
</ul>
<p>Each of these error messages can be caused by one of the following issues:</p>
<div class="sect2"><a id="sthref462" name="sthref462"></a>
<h3 class="sect2"><span class="secnum">A.3.1</span> The OCFS for Windows format is not recognized on one or more of the remote cluster nodes</h3>
<p>If you are using Oracle Cluster File System (OCFS) for Windows for your OCR and Voting disk partitions, then:</p>
<ol>
<li>
<p>Leave the OUI window in place.</p>
</li>
<li>
<p>Restart the second node, and any additional nodes.</p>
</li>
<li>
<p>Retry the assistants.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref463" name="sthref463"></a>
<h3 class="sect2"><span class="secnum">A.3.2</span> You are on a Windows 2003 system, and Automount of new drives is not enabled:</h3>
<p>If this is true, then:</p>
<p><a id="sthref464" name="sthref464"></a>For Oracle RAC on Windows Server 2003, you must issue the following commands on all nodes:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; diskpart
DISKPART&gt; automount enable
</pre>
<p>If you did not enable automounting of disks before attempting to install Oracle Grid Infrastructure, and the configuration assistants fail during installation, then you will need to clean up your Oracle Clusterware install, enable automounting on all nodes, reboot all nodes, and then start the Oracle Clusterware install again.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref465" name="sthref465"></a>
<h3 class="sect2"><span class="secnum">A.3.3</span> Symbolic links for disks were not removed</h3>
<p>When you stamp a disk with ASMTOOL, it creates symbolic links for the disks. If these links are not removed when the disk is deleted or reconfigured, then errors can occur when attempting to access the disks.</p>
<p>To correct the problem, you can try stamping the disks again with ASMTOOL.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref466" name="sthref466"></a>
<h3 class="sect2"><span class="secnum">A.3.4</span> Discovery string used by Oracle ASM is incorrect</h3>
<p>When specifying Oracle ASM for storage, you have the option of changing the default discovery string used to locate the disks. If the discovery string is set incorrectly, Oracle ASM will not be able to locate the disks.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref467" name="sthref467"></a>
<h3 class="sect2"><span class="secnum">A.3.5</span> You used a period in one of the node names during Oracle Clusterware install</h3>
<p>Periods (.) are not permitted in node names. Instead, use a hyphen (-).</p>
<p>To resolve a failed installation, remove traces of the Oracle installation, and reinstall with a permitted node name.</p>
</div>
<!-- class="sect2" -->
<div class="sect2"><!-- infolevel="all" infotype="General" --><a id="sthref468" name="sthref468"></a>
<h3 class="sect2"><span class="secnum">A.3.6</span> Ignoring upgrade failure of ocr(-1073740972)</h3>
<p>This error indicates that the user that is performing the installation does not have Administrator privileges.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CIAJDDHB" name="CIAJDDHB"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">A.4</span> Performing Cluster Diagnostics During Oracle Grid Infrastructure Installations</h2>
<p><a id="sthref469" name="sthref469"></a>If the installer does not display the Node Selection page, then use the following command syntax to check the integrity of the Cluster Manager:</p>
<pre xml:space="preserve" class="oac_no_warn">cluvfy comp clumgr -n <span class="italic">node_list</span> -verbose
</pre>
<p>In the preceding syntax example, the variable <code><span class="codeinlineitalic">node_list</span></code> is the list of nodes in your cluster, separated by commas.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
<a id="sthref470" name="sthref470"></a><a id="sthref471" name="sthref471"></a>If you encounter unexplained installation errors during or after a period when scheduled tasks are run, then your scheduled task may have deleted temporary files before the installation is finished. <a id="sthref472" name="sthref472"></a>Oracle recommends that you complete the installation before scheduled tasks are run, or disable scheduled tasks that perform cleanup until after the installation is completed.</div>
</div>
<!-- class="sect1" -->
<a id="CIADFHJJ" name="CIADFHJJ"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">A.5</span> Interconnect Configuration Issues</h2>
<p>If you use multiple network interface cards (NICs) for the interconnect, then the NICs should be bonded at the operating system level. Otherwise, the failure of a single NIC will affect the availability of the cluster node.</p>
<p>If you install Oracle Grid Infrastructure and Oracle RAC, then they must use the same NIC or teamed NIC cards for the interconnect.</p>
<p>If you use teamed NIC cards, then they must be on the same subnet.</p>
<p>If you encounter errors, then perform the following system checks:</p>
<ul>
<li>
<p>Verify with your network providers that they are using the correct cables (length, type) and software on their switches. In some cases, to avoid bugs that cause disconnects under loads, or to support additional features such as Jumbo Frames, you may need a firmware upgrade on interconnect switches, or you may need newer NIC driver or firmware at the operating system level. Running without such fixes can cause later instabilities to Oracle RAC databases, even though the initial installation seems to work.</p>
</li>
<li>
<p>Review VLAN configurations, duplex settings, and auto-negotiation in accordance with vendor and Oracle recommendations.</p>
</li>
</ul>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="app_nonint.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
