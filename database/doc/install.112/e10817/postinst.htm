<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-03-15T17:55:42Z" />
<meta name="doctitle" content="Oracle&reg; Grid Infrastructure Installation Guide 11g Release 2 (11.2) for Microsoft Windows" />
<meta name="partno" content="E10817-01" />
<meta name="docid" content="CWWIN" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="crswin.htm" title="Previous" type="text/html" />
<link rel="Next" href="rem_orcl.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10817.pdf" title="PDF version" type="application/pdf" />
<title>Oracle Grid Infrastructure Postinstallation Procedures</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Grid Infrastructure Installation Guide<br />
11<i>g</i> Release 2 (11.2) for Microsoft Windows</b><br />
Part Number E10817-01</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="crswin.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10817.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="BABHHEHG" name="BABHHEHG"></a>
<h1 class="chapter"><span class="secnum">5</span> <a name="CWWIN003" id="CWWIN003"></a>Oracle Grid Infrastructure Postinstallation Procedures</h1>
<p>This chapter describes how to complete the postinstallation tasks after you have installed the Oracle Grid Infrastructure software.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CHDFFJCE">Required Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#CHDDBHEH">Recommended Postinstallation Tasks</a></p>
</li>
<li>
<p><a href="#CHDFIJDD">Using Older Oracle Database Versions with Grid Infrastructure</a></p>
</li>
<li>
<p><a href="#CHDBAFHI">Modifying Oracle Clusterware Binaries After Installation</a></p>
</li>
</ul>
<a id="CHDFFJCE" name="CHDFFJCE"></a>
<div class="sect1">
<h2 class="sect1"><span class="secnum">5.1</span> Required Postinstallation Tasks</h2>
<p>You must perform the following tasks after completing your installation:</p>
<ul>
<li>
<p><a href="#CHDIJCFG">Download and Install Patch Updates</a></p>
</li>
<li>
<p><a href="#CHDJGCEH">Configure Exceptions for the Windows Firewall</a></p>
</li>
</ul>
<div class="infoboxnote">
<p class="notep1">Note:</p>
<a id="sthref414" name="sthref414"></a>In prior releases, backing up the voting disks using the <code>ocopy.exe</code> command was a required postinstallation task. With Oracle Clusterware release 11.2 and later, backing up a voting disk is no longer required.</div>
<a id="CHDIJCFG" name="CHDIJCFG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.1</span> Download and Install Patch Updates</h3>
<p>Refer to the My Oracle Support Web site for required <a id="sthref415" name="sthref415"></a><a id="sthref416" name="sthref416"></a><a id="sthref417" name="sthref417"></a><a id="sthref418" name="sthref418"></a><a id="sthref419" name="sthref419"></a>patch updates for your <a id="sthref420" name="sthref420"></a>installation.</p>
<p>To download required patch updates:</p>
<ol>
<li>
<p>Use a Web browser to view the My Oracle Support Web site:</p>
<p><code><a href="https://support.oracle.com">https://support.oracle.com</a></code></p>
</li>
<li>
<p>Log in to My Oracle Support Web site.</p>
<div class="infoboxnote">
<p class="notep1">Note:</p>
If you are not a My Oracle Support registered user, then click <span class="bold">Register Here</span> and register.</div>
</li>
<li>
<p>On the main My Oracle Support page, select <span class="bold">Patches &amp; Updates</span>.</p>
</li>
<li>
<p>On the Patches &amp; Update page, in the click <span class="bold">Advanced "Classic" Patch Search</span>.</p>
<p>If you want to search for patch sets, click the Latest Patchsets link under the heading Oracle Server/Tools.</p>
</li>
<li>
<p>On the Advanced Search page, click the search icon next to the Product or Product Family field.</p>
</li>
<li>
<p>In the Search and Select: Product Family field, select Database and Tools in the Search list field, enter Database in the text field, and click <span class="bold">Go</span>.</p>
<p>Click <span class="bold">Oracle Database Family</span> in the list of Product Names to select it.</p>
</li>
<li>
<p>Click the search icon next to the Release field. In the Search and Select: Release window, type 11.2 in the Search field, then click <span class="bold">Go</span>. Click <span class="bold">Oracle 11.2.0.1.0</span> in the Release Name column to select it.</p>
</li>
<li>
<p>Select your platform from the Platform or Language drop-down list (for example, Microsoft Windows Server 2003 R2).</p>
</li>
<li>
<p>At the bottom of the Advanced Search section, click <span class="bold">Go</span>. Any available patch updates appear under the Results heading.</p>
</li>
<li>
<p>Click the patch number to view the patch description and access the README file for the patch. You can also download the patch from this page.</p>
</li>
<li>
<p>Click <span class="bold">View README</span>&nbsp;and read the page that appears. The README page contains information about the patch and how to apply the patch to your installation.</p>
<p>Click <span class="bold">Patch Details</span> to return to the previous page.</p>
</li>
<li>
<p>Click <span class="bold">Download</span>, and save the patch file on your system.</p>
</li>
<li>
<p>Use the unzip utility provided with your Oracle software to uncompress the Oracle patch updates that you download from My Oracle Support. The unzip utility is located in the <code><span class="codeinlineitalic">Grid_home</span></code><code>\BIN</code> directory.</p>
</li>
<li>
<p>Refer to <a href="upgrade.htm#BABEHGJG">Appendix D, "How to Upgrade to Oracle Grid Infrastructure 11<span class="italic">g</span> Release 2"</a> for information about how to stop database processes in preparation for installing patches.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDJGCEH" name="CHDJGCEH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.1.2</span> Configure Exceptions for the Windows Firewall</h3>
<p>If the Windows Firewall feature is enabled on one or more of the nodes in your cluster, then virtually all TCP network ports are blocked to incoming connections. As a result, any Oracle product that listens for incoming connections on a TCP port will not receive any of those connection requests and the clients making those connections will report errors.</p>
<p>You must configure exceptions for the Windows Firewall if your system meets all of the following conditions:</p>
<ul>
<li>
<p>Oracle server-side components are installed on a computer running a supported version of Microsoft Windows. The list of components includes the Oracle Database, Oracle grid infrastructure, Oracle RAC, network listeners, or any Web servers or services.</p>
</li>
<li>
<p>The Windows machine in question accepts connections from other machines over the network. If no other machines will be connecting to the Windows machine to access the Oracle software, then no post-installation configuration steps are required and the Oracle software will function as expected.</p>
</li>
<li>
<p>The Windows machine in question is configured to run the Windows Firewall. If the Windows Firewall is not enabled, then no post-installation configuration steps are required.</p>
</li>
</ul>
<p>If all of the above conditions are met, then the Windows Firewall must be configured to allow successful incoming connections to the Oracle software. To enable Oracle software to accept connection requests, Windows Firewall needs to be configured by either opening up specific static TCP ports in the firewall or by creating exceptions for specific executables so they can receive connection requests on any ports they choose. This firewall configuration can be done by one of the following methods:</p>
<ul>
<li>
<p>Start the Windows Firewall application, select the <span class="bold">Exceptions</span> tab and then click either <span class="bold">Add Program</span> or <span class="bold">Add Port</span> to create exceptions for the Oracle software.</p>
</li>
<li>
<p>From the command prompt, use the <code>netsh firewall add...</code> command.</p>
</li>
<li>
<p>When Windows notifies you that a foreground application is attempting to listen on a port, and gives you the opportunity to create an exception for that executable. If you choose the create the exception in this way, the effect is the same as creating an exception for the executable either via Control Panel or from the command line.</p>
</li>
</ul>
<p><a id="sthref421" name="sthref421"></a>The following sections list the Oracle Database 11<span class="italic">g</span> release 2 executables that listen on TCP ports on Windows, along with a brief description of the executable. It is recommended that these executables (if in use and accepting connections from a remote, client machine) be added to the exceptions list for the Windows Firewall to ensure correct operation. In addition, if multiple Oracle homes are in use, firewall exceptions may need to be created for the same executable, for example, <code>oracle.exe</code>, multiple times, once for each Oracle home from which that executable loads.</p>
<ul>
<li>
<p><a href="#CHDHFICI">Firewall Exceptions for Oracle Database</a></p>
</li>
<li>
<p><a href="#CHDFGFJE">Firewall Exceptions for Oracle Database Examples (or the Companion CD)</a></p>
</li>
<li>
<p><a href="#CHDCIFFG">Firewall Exceptions for Oracle Gateways</a></p>
</li>
<li>
<p><a href="#CHDEAAEG">Firewall Exceptions for Oracle Clusterware and Oracle ASM</a></p>
</li>
<li>
<p><a href="#CHDFEFFE">Firewall Exceptions for Oracle RAC Database</a></p>
</li>
<li>
<p><a href="#CHDGDHIG">Firewall Exceptions for Oracle Cluster File System for Windows</a></p>
</li>
<li>
<p><a href="#CHDCIHGG">Firewall Exceptions for Other Oracle Products</a></p>
</li>
</ul>
<a id="CHDHFICI" name="CHDHFICI"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.1</span> Firewall Exceptions for Oracle Database</h4>
<p>For basic database operation and connectivity from remote clients (SQL*Plus, OCI, ODBC, OLE DB applications, and so on), the following executables need to be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\bin\oracle.exe</code> - Oracle Database executable</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\bin\tnslsnr.exe</code> - Oracle Listener</p>
</li>
</ul>
<p>If you use remote monitoring capabilities for your database, the following executables need to be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\bin\</code><code>emagent.exe</code> - Oracle Database Control</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\jdk\bin\java.exe</code> - Java Virtual Machine for Enterprise Manager Database Control</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDFGFJE" name="CHDFGFJE"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.2</span> Firewall Exceptions for Oracle Database Examples (or the Companion CD)</h4>
<p>After installing the Oracle Database Companion CD, the following executables need to be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\opmn\bin\opmn.exe</code> - Oracle Process Manager</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\jdk\bin\java.exe</code> - Java Virtual Machine</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDCIFFG" name="CHDCIFFG"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.3</span> Firewall Exceptions for Oracle Gateways</h4>
<p>If your Oracle database interacts with non-Oracle software through a gateway, then you need to add the gateway executable to the Windows Firewall exception list. <a href="#CHDHEJEJ">Table 5-1</a>table lists the gateway executables used to access non-Oracle software.</p>
<div class="tblformal"><a id="sthref422" name="sthref422"></a><a id="CHDHEJEJ" name="CHDHEJEJ"></a>
<p class="titleintable">Table 5-1 Oracle Executables Used to Access Non-Oracle Software</p>
<table class="Formal" title="Oracle Executables Used to Access Non-Oracle Software" summary="Gateway executables to add to Windows Firewall Exception list" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t4">Executable Name</th>
<th align="left" valign="bottom" id="r1c2-t4">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t4" headers="r1c1-t4">
<p><code>omtsreco.exe</code></p>
</td>
<td align="left" headers="r2c1-t4 r1c2-t4">
<p>Oracle Services for Microsoft Transaction Server</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t4" headers="r1c1-t4">
<p><code>dg4sybs.exe</code></p>
</td>
<td align="left" headers="r3c1-t4 r1c2-t4">
<p>Oracle Database Gateway for Sybase</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t4" headers="r1c1-t4">
<p><code>dg4tera.exe</code></p>
</td>
<td align="left" headers="r4c1-t4 r1c2-t4">
<p>Oracle Database Gateway for Teradata</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t4" headers="r1c1-t4">
<p><code>dg4msql.exe</code></p>
</td>
<td align="left" headers="r5c1-t4 r1c2-t4">
<p>Oracle Database Gateway for SQL Server</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t4" headers="r1c1-t4">
<p><code>dg4db2.exe</code></p>
</td>
<td align="left" headers="r6c1-t4 r1c2-t4">
<p>Oracle Database Gateway for DRDA</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t4" headers="r1c1-t4">
<p><code>pg4arv.exe</code></p>
</td>
<td align="left" headers="r7c1-t4 r1c2-t4">
<p>Oracle Database Gateway for APPC</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t4" headers="r1c1-t4">
<p><code>pg4t4ic.exe</code></p>
</td>
<td align="left" headers="r8c1-t4 r1c2-t4">
<p>Oracle Database Gateway for APPC</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t4" headers="r1c1-t4">
<p><code>dg4mqs.exe</code></p>
</td>
<td align="left" headers="r9c1-t4 r1c2-t4">
<p>Oracle Database Gateway for WebSphere MQ</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r10c1-t4" headers="r1c1-t4">
<p><code>dg4mqc.exe</code></p>
</td>
<td align="left" headers="r10c1-t4 r1c2-t4">
<p>Oracle Database Gateway for WebSphere MQ</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r11c1-t4" headers="r1c1-t4">
<p><code>dg4odbc.exe</code></p>
</td>
<td align="left" headers="r11c1-t4 r1c2-t4">
<p>Oracle Database Gateway for ODBC</p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" -->
<a id="CHDEAAEG" name="CHDEAAEG"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.4</span> Firewall Exceptions for Oracle Clusterware and Oracle ASM</h4>
<p>If you installed the Oracle grid infrastructure software on the nodes in your cluster, then you can enable the Windows Firewall only <span class="italic">after</span> adding the following executables and ports to the Firewall exception list. The Firewall Exception list must be updated on each node.</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\gpnpd.exe</code> - Grid Plug and Play daemon</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\oracle.exe</code> - Oracle ASM executable (if using Oracle ASM for storage)</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\racgvip.exe</code> - Virtual Internet Protocol Configuration Assistant</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\evmd.exe</code> - OracleEVMService</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\crsd.exe</code> - OracleCRService</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\ocssd.exe</code> - OracleCSService</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\octssd.exe</code> - Cluster Time Synchronization Service daemon</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\mDNSResponder.exe</code> - multicast-DNS Responder Daemon</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\gipcd.exe</code> - Grid IPC daemon</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\gnsd.exe</code> - Grid Naming Service daemon</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\ohasd.exe</code> - OracleOHService</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\bin\TNSLSNR.EXE</code> - SCAN listener and local listener for Oracle RAC database and Oracle ASM</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\opmn\bin\ons.exe</code> - Oracle Notification Service</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\jdk\jre\bin\java.exe</code> - Java Virtual Machine</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDFEFFE" name="CHDFEFFE"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.5</span> Firewall Exceptions for Oracle RAC Database</h4>
<p>For the Oracle RAC database, the executables that require exceptions are:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\bin\oracle.exe</code> - Oracle RAC database instance</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\bin\emagent.exe</code> - Oracle Enterprise Manager agent</p>
</li>
<li>
<p><code><span class="codeinlineitalic">Oracle_home</span></code><code>\jdk\bin\java.exe</code> - For the Oracle Enterprise Manager DB Console</p>
</li>
</ul>
<p>In addition, the following ports should be added to the Windows Firewall exception list:</p>
<ul>
<li>
<p>Microsoft file sharing SMB</p>
<ul>
<li>
<p>User Datagram Protocol (UDP) ports from 135 through 139</p>
</li>
<li>
<p>Transmission Control Protocol (TCP) ports from 135 through 139</p>
</li>
</ul>
</li>
<li>
<p>Direct-hosted SMB traffic without a network basic input/output system (NetBIOS)</p>
<ul>
<li>
<p>port 445 (TCP and UPD)</p>
</li>
</ul>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDGDHIG" name="CHDGDHIG"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.6</span> Firewall Exceptions for Oracle Cluster File System for Windows</h4>
<p>If you use Oracle Cluster File System (OCFS) for Windows to store the Oracle Clusterware files, or Oracle RAC database files, then you must add the following exceptions to the Windows Firewall:</p>
<ul>
<li>
<p><code><span class="codeinlineitalic">Grid_home</span></code><code>\cfs\Ocfsfindvol.exe</code> - Oracle Cluster File System (OCFS) for Windows Volume Service</p>
</li>
<li>
<p><code>%WINDOWS_HOME%\system32\drivers\Ocfs.sys</code> - System file for Oracle Cluster File System (if using OCFS for Windows for Oracle Clusterware storage)</p>
</li>
</ul>
</div>
<!-- class="sect3" -->
<a id="CHDCIHGG" name="CHDCIHGG"></a>
<div class="sect3"><!-- infolevel="all" infotype="General" -->
<h4 class="sect3"><span class="secnum">5.1.2.7</span> Firewall Exceptions for Other Oracle Products</h4>
<p>In additional to all the previously listed exceptions, if you use any of the Oracle software listed in, then you must create an exception for Windows Firewall for the associated executable.</p>
<div class="tblformal"><a id="sthref423" name="sthref423"></a><a id="sthref424" name="sthref424"></a>
<p class="titleintable">Table 5-2 Other Oracle Software Products Requiring Windows Firewall Exceptions</p>
<table class="Formal" title="Other Oracle Software Products Requiring Windows Firewall Exceptions" summary="Executable for Various Oracle software products that need an exception" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="*" />
<col width="32%" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t5">Oracle Software Product</th>
<th align="left" valign="bottom" id="r1c2-t5">Executable Name</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t5" headers="r1c1-t5">
<p>Data Guard Manager</p>
</td>
<td align="left" headers="r2c1-t5 r1c2-t5">
<p><code>dgmgrl.exe</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t5" headers="r1c1-t5">
<p>Oracle Internet Directory LDAP Server</p>
</td>
<td align="left" headers="r3c1-t5 r1c2-t5">
<p><code>oidldapd.exe</code></p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t5" headers="r1c1-t5">
<p>External Procedural Calls</p>
</td>
<td align="left" headers="r4c1-t5 r1c2-t5">
<p><code>extproc.exe</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblformal" --></div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDDBHEH" name="CHDDBHEH"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.2</span> Recommended Postinstallation Tasks</h2>
<p><a id="sthref425" name="sthref425"></a>Oracle recommends that you complete the following tasks as needed after installing Oracle Grid Infrastructure:</p>
<ul>
<li>
<p><a href="#CHDBHGGH">Install Troubleshooting Tool</a></p>
</li>
<li>
<p><a href="#CHDEIGEG">Optimize Memory Usage for Programs</a></p>
</li>
<li>
<p><a href="#CHDGGJGJ">Create a Fast Recovery Area Disk Group</a></p>
</li>
</ul>
<a id="CHDBHGGH" name="CHDBHGGH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.1</span> Install Troubleshooting Tool</h3>
<p><a id="sthref426" name="sthref426"></a>To address troubleshooting issues, Oracle recommends that you install Instantaneous Problem Detection OS Tool (IPD/OS).</p>
<div class="sect3"><a id="sthref427" name="sthref427"></a>
<h4 class="sect3"><span class="secnum">5.2.1.1</span> Installing Instantaneous Problem Detection OS Tool (IPD/OS)</h4>
<p>On Windows systems running Windows Server 2003 with service pack 2 or higher, install the Oracle Instantaneous problem Detection Operating System Tool (IPD/OS).</p>
<p>The IPD/OS tool is designed to detect and analyze operating system and cluster resource-related degradation and failures. The tool can provide better explanations for many issues that occur in clusters where Oracle Clusterware and Oracle RAC are running, such as node evictions. It tracks the operating system resource consumption at each node, process, and device level continuously. It collects and analyzes clusterwide data. In real time mode, when thresholds are reached, an alert is shown to the operator. For root cause analysis, historical data can be replayed to understand what was happening at the time of failure.</p>
<p>You can download the tool at the following URL:</p>
<pre xml:space="preserve" class="oac_no_warn"><a href="http://www.oracle.com/technology/products/database/clustering/ipd_download_homepage.html">http://www.oracle.com/technology/products/database/clustering/ipd_download_homepage.html</a>
</pre>
<p>To prevent performance problems, you cannot run the GUI interface for IPD/OS on the Oracle RAC node. You can install the client on any Linux or Windows client that is not a cluster member node. From this client you can view the data.</p>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" -->
<a id="CHDEIGEG" name="CHDEIGEG"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.2</span> Optimize Memory Usage for Programs</h3>
<p>The Windows operating system should be optimized for Memory Usage of 'Programs' instead of 'System Caching'. To modify the memory optimization settings, perform the following steps:</p>
<ol>
<li>
<p>From the Start Menu, select <span class="bold">Control Panel</span>, then <span class="bold">System</span>.</p>
</li>
<li>
<p>In the System Properties window, click the <span class="bold">Advanced</span> tab.</p>
</li>
<li>
<p>In the Performance section, click <span class="bold">Settings</span>.</p>
</li>
<li>
<p>In the Performance Options window, click the <span class="bold">Advanced</span> tab.</p>
</li>
<li>
<p>In the Memory Usage section, make sure Programs is selected.</p>
</li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDGGJGJ" name="CHDGGJGJ"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.2.3</span> Create a Fast Recovery Area Disk Group</h3>
<p>During installation, if you select Oracle ASM for storage, a single disk group is created. If you plan to add an Oracle Database for a standalone server or an Oracle RAC database, then you should create a separate disk group for the fast recovery area.</p>
<div class="sect3"><a id="sthref428" name="sthref428"></a>
<h4 class="sect3"><span class="secnum">5.2.3.1</span> About the Fast Recovery Area and the Fast Recovery Area Disk Group</h4>
<p><a id="sthref429" name="sthref429"></a><a id="sthref430" name="sthref430"></a>The fast recovery area is a unified storage location for all Oracle Database files related to recovery. Database administrators can define the <code>DB_RECOVERY_FILE_DEST</code> parameter to the path for the Fast Recovery Area to enable on-disk backups, and rapid recovery of data. Enabling rapid backups for recent data can reduce requests to system administrators to retrieve backup tapes for recovery operations.</p>
<p>When you enable the fast recovery area in the <code>init.ora</code> file, all RMAN backups, archive logs, control file automatic backups, and database copies are written to the fast recovery area. RMAN automatically manages files in the fast recovery area by deleting obsolete backups and archive files that are no longer required for recovery.</p>
<p>To use a flash recovery area in Oracle RAC, you must place it on an Oracle ASM disk group, a cluster file system, or on a shared directory that is configured through Direct NFS for each Oracle RAC instance. In other words, the flash recovery area must be shared among all of the instances of an Oracle RAC database.<a id="sthref431" name="sthref431"></a>Oracle recommends that you create a fast recovery area disk group. Oracle Clusterware files and Oracle Database files can be placed on the same disk group as fast recovery area files. However, Oracle recommends that you create a separate fast recovery area disk group to reduce storage device contention.</p>
<p>The fast recovery area is enabled by setting <code>DB_RECOVERY_FILE_DEST</code>. The parameter <code>DB_RECOVERY_FILE_DEST</code> to the same value on all instances. The size of the fast recovery area is set with DB_RECOVERY_FILE_DEST. As a general rule, the larger the fast recovery area, the more useful it becomes. For ease of use, Oracle recommends that you create a fast recovery area disk group on storage devices that can contain at least three days of recovery information. Ideally, the fast recovery area should be large enough to hold a copy of all of your data files and control files, the online redo logs, and the archived redo log files needed to recover your database using the data file backups kept under your retention policy.</p>
<p>Multiple databases can use the same fast recovery area. For example, assume you have created one fast recovery area disk group on disks with 150 GB of storage, shared by three different databases. You can set the size of the fast recovery area for each database depending on the importance of each database. For example, if <code>database1</code> is your least important database, <code>database2</code> is of greater importance and <code>database3</code> is of greatest importance, then you can set different <code>DB_RECOVERY_FILE_DEST_SIZE</code> settings for each database to meet your retention target for each database: 30 GB for <code>database1</code>, 50GB for <code>database2</code>, and 70GB for <code>database3</code>.</p>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink OSTMG" href="http://www.oracle.com/pls/db112/lookup?id=OSTMG"><span class="italic">Oracle Database Storage Administrator's Guide</span></a></div>
</div>
<!-- class="sect3" -->
<div class="sect3"><a id="sthref432" name="sthref432"></a>
<h4 class="sect3"><span class="secnum">5.2.3.2</span> Creating the Fast Recovery Area Disk Group</h4>
<p>To create a fast recovery area disk group:</p>
<ol>
<li>
<p><a id="sthref433" name="sthref433"></a>Navigate to the Grid home bin directory, and start Oracle ASM Configuration Assistant (ASMCA). For example:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; cd app\11.2.0\grid\bin
C:\&gt; asmca
</pre></li>
<li>
<p>ASMCA opens at the Disk Groups tab. Click <span class="bold">Create</span> to create a new disk group</p>
</li>
<li>
<p>The Create Disk Groups window opens.</p>
<p>In the Disk Group Name field, enter a descriptive name for the fast recovery area group. For example: FRA.</p>
<p>In the Redundancy section, select the level of redundancy you want to use.</p>
<p>In the Select Member Disks field, select eligible disks to be added to the fast recovery area, and click <span class="bold">OK</span>.</p>
</li>
<li>
<p>The Diskgroup Creation window opens to inform you when disk group creation is complete. Click <span class="bold">OK</span>.</p>
</li>
<li>
<p>Click <span class="bold">Exit</span>.</p>
</li>
</ol>
</div>
<!-- class="sect3" --></div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDFIJDD" name="CHDFIJDD"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.3</span> Using Older Oracle Database Versions with Grid Infrastructure</h2>
<p>Review the following sections for information about using older Oracle Database releases with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2) installations:</p>
<ul>
<li>
<p><a href="#CHDHDBED">General Restrictions for Using Older Oracle Database Versions</a></p>
</li>
<li>
<p><a href="#CHDHFEEF">Pinning Cluster Nodes for Oracle Database Release 10.x or 11.x</a></p>
</li>
<li>
<p><a href="#CHDGFGHH">Enabling the Global Services Daemon (GSD) for Oracle Database Release 9.2</a></p>
</li>
<li>
<p><a href="#CHDIDHGF">Using the Correct LSNRCTL Commands</a></p>
</li>
</ul>
<a id="CHDHDBED" name="CHDHDBED"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.3.1</span> General Restrictions for Using Older Oracle Database Versions</h3>
<p>You can use Oracle9<span class="italic">i</span> Database release 2, Oracle Database 10<span class="italic">g</span> releases 1 and 2, and Oracle Database 11<span class="italic">g</span> release 1 with Oracle Clusterware 11<span class="italic">g</span> release 2 (11.2).</p>
<p>If you upgrade an existing version of Oracle Clusterware, then the required configuration of existing databases is completed automatically. However, if you complete a new installation of Oracle Grid Infrastructure for a cluster, and then want to install Oracle Database 11<span class="italic">g</span> release 1 or any prior release, then you must complete additional manual configuration tasks.</p>
</div>
<!-- class="sect2" -->
<a id="CHDHFEEF" name="CHDHFEEF"></a>
<div class="sect2">
<h3 class="sect2"><span class="secnum">5.3.2</span> Pinning Cluster Nodes for Oracle Database Release 10.x or 11.x</h3>
<p>When Oracle Database version 10.x or 11.x is installed on a new Oracle Grid Infrastructure for a cluster configuration, it is configured for dynamic cluster configuration, in which some or all IP addresses are provisionally assigned, and other cluster identification information is dynamic. This configuration is incompatible with older database releases, which require fixed addresses and configurations.</p>
<p>You can change the nodes where you want to run the older database to create a persistent configuration. Creating a persistent configuration for a node is called pinning a node.</p>
<p><a id="sthref434" name="sthref434"></a>To pin a node in preparation for installing an older Oracle Database version, use <code><span class="codeinlineitalic">CRS_home</span></code><code>\bin\crsctl</code> with the following command syntax, where <code><span class="codeinlineitalic">nodes</span></code> is a space-delimited list of one or more nodes in the cluster whose configuration you want to pin:</p>
<pre xml:space="preserve" class="oac_no_warn">crsctl pin css -n <span class="italic">nodes</span>
</pre>
<p>For example, to pin nodes <code>node3</code> and <code>node4</code>, log in as an Administrator user and enter the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; crsctl pin css -n node3 node4
</pre>
<p><a id="sthref435" name="sthref435"></a>To determine if a node is in a pinned or unpinned state, use <code><span class="codeinlineitalic">CRS_home</span></code><code>\bin\olsnodes</code> with the following syntax:</p>
<pre xml:space="preserve" class="oac_no_warn">olsnodes -t -n 
</pre>
<p>For example, to list all pinned nodes, use the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; app\11.2.0\grid\bin\olsnodes -t -n
node1 1       Pinned
node2 2       Pinned
node3 3       Pinned
node4 4       Pinned
</pre>
<p>To list the state of a particular node use the <code>-n</code> option, as shown in the following example:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; app\11.2.0\grid\bin\olsnodes -t -n node3
node3 3       Pinned
</pre>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
<a class="olink CWADD" href="http://www.oracle.com/pls/db112/lookup?id=CWADD"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for more information about pinning and unpinning nodes</div>
</div>
<!-- class="sect2" -->
<a id="CHDGFGHH" name="CHDGFGHH"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.3</span> Enabling the Global Services Daemon (GSD) for Oracle Database Release 9.2</h3>
<p>To install an Oracle Database version 9.2 on a cluster running Oracle Clusterware 11<span class="italic">g</span> (version 11.1 or higher), perform the following additional configuration steps to prevent permission errors:</p>
<ol>
<li>
<p>Create the OracleCRSToken_<span class="italic">username</span> for the Oracle9<span class="italic">i</span> software owner on each node in the cluster. After the service is created, change the ownership for the GSD resource to the Oracle9<span class="italic">i</span> software owner.</p>
<p>Run the following commands on each node using the specified syntax, where <span class="italic">Grid_home</span> is the Oracle Grid infrastructure home, <span class="italic">92_user_domain</span> is the domain of the Oracle9<span class="italic">i</span> software owner, <span class="italic">92_username</span> is the user name of the Oracle9<span class="italic">i</span> software owner, and <span class="italic">nodename</span> is the name of the node on which the service is being configured:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic"><a id="sthref436" name="sthref436"></a>Grid_home</span>\bin\crsctl add crs administrator <span class="italic">92_domain/92_username</span>
<span class="italic">Grid_home</span>\bin\crsctl setperm resource ora.<span class="italic">nodename</span>.gsd -o <span class="italic">92_username</span>
</pre>
<p>For example, if the Oracle Clusterware home is <code>C:\app\11.2.0\grid</code>, the domain is ORAUSERS, the node name is <code>node1</code>, and the username is <code>ora92</code>, then you would enter the following commands:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\app\11.2.0\grid\bin&gt; crsctl add crs administrator ORAUSERS/ora92
C:\app\11.2.0\grid\bin&gt; crsctl setperm resource ora.node1.gsd 
 -o ORAUSERS/ora92
</pre></li>
<li>
<p>Enable and start the GSD daemon on all nodes in the cluster.</p>
<p><a id="sthref437" name="sthref437"></a>On any node in the cluster, run commands using the following syntax, where <span class="italic">Grid_home</span> is the Oracle Grid infrastructure home:</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="italic">Grid_home</span>\bin\srvctl enable nodeapps -g
<span class="italic">Grid_home</span>\bin\srvctl start nodeapps 
</pre>
<p>For example, if the Oracle Clusterware home is <code>C:\app\11.2.0\grid</code>, then enter the following commands:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\app\11.2.0\grid\bin&gt; srvctl enable nodeapps -g
C:\app\11.2.0\grid\bin&gt; srvctl start nodeapps
</pre></li>
</ol>
</div>
<!-- class="sect2" -->
<a id="CHDIDHGF" name="CHDIDHGF"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">5.3.4</span> Using the Correct LSNRCTL Commands</h3>
<p><a id="sthref438" name="sthref438"></a><a id="sthref439" name="sthref439"></a>To administer Oracle Clusterware and Oracle ASM 11<span class="italic">g</span> release 2 local and scan listeners using the <code>lsnrctl</code> command, use the Listener Control utility in the grid infrastructure home (Grid home). Do not attempt to use the <code>lsnrctl</code> commands from Oracle home locations for previous releases, because they cannot be used with the new release.</p>
</div>
<!-- class="sect2" --></div>
<!-- class="sect1" -->
<a id="CHDBAFHI" name="CHDBAFHI"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">5.4</span> Modifying Oracle Clusterware Binaries After Installation</h2>
<p><a id="sthref440" name="sthref440"></a><a id="sthref441" name="sthref441"></a><a id="sthref442" name="sthref442"></a>After installation, if you need to modify the software installed in your Grid home, then you must first stop the Oracle Clusterware stack. For example, if you want to apply a one-off patch or modify any of the DLLs used by Oracle Clusterware or Oracle ASM, then you must follow these steps to stop and restart the Oracle Clusterware stack.</p>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
To put the changes you make to the Oracle grid infrastructure home into effect, you must shut down all executables that run in the Grid home directory and then restart them. In addition, shut down any applications that use Oracle shared libraries or DLL files in the Grid home.</div>
<p>Prepare the Oracle grid infrastructure home for modification using the following procedure:</p>
<ol>
<li>
<p>Log in using a member of the Administrators group and change directory to the path <code><span class="codeinlineitalic">Grid_home</span></code><code>\bin</code>, where <span class="italic">Grid_home</span> is the path to the Oracle grid infrastructure home.</p>
</li>
<li>
<p>Shut down the Oracle Clusterware stack using the following command:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\..\bin&gt; crsctl stop crs -f
</pre></li>
<li>
<p>After the Oracle Clusterware stack is completely shut down, perform the updates to the software installed in the Grid home.</p>
</li>
<li>
<p>Use the following command to restart the Oracle Clusterware stack:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\..\bin&gt; crsctl start crs
</pre></li>
<li>
<p>Repeat steps 1 through 4 on each cluster member node.</p>
</li>
</ol>
</div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="crswin.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="rem_orcl.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
