<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="robots" content="all" scheme="http://www.robotstxt.org/" />
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1" />
<meta name="Date" content="2010-03-15T18:13:37Z" />
<meta name="doctitle" content="Oracle&reg; Real Application Clusters Installation Guide 11g Release 2 (11.2) for Microsoft Windows" />
<meta name="partno" content="E10818-02" />
<meta name="docid" content="RIWIN" />
<link rel="Start" href="../../index.htm" title="Home" type="text/html" />
<link rel="Copyright" href="../../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />
<link rel="Stylesheet" href="../../dcommon/css/blafdoc.css" title="Default" type="text/css" />
<script type="text/javascript" src="../../dcommon/js/doccd.js">
</script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="undrstnd.htm" title="Previous" type="text/html" />
<link rel="Next" href="trouble.htm" title="Next" type="text/html" />
<link rel="alternate" href="../e10818.pdf" title="PDF version" type="application/pdf" />
<title>Removing Oracle Real Application Clusters Software</title>
</head>
<body>
<div class="header">
<div class="zz-skip-header"><a name="top" id="top" href="#BEGIN">Skip Headers</a></div>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><b>Oracle&reg; Real Application Clusters Installation Guide<br />
11<i>g</i> Release 2 (11.2) for Microsoft Windows</b><br />
Part Number E10818-02</td>
<td valign="bottom" align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="undrstnd.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="trouble.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td align="right" valign="top" style="font-size: 90%"><a href="../e10818.pdf">View PDF</a></td>
</tr>
</table>
<a name="BEGIN" id="BEGIN"></a></div>
<div class="IND"><!-- End Header --><a id="CIHBHIJH" name="CIHBHIJH"></a><a id="RIWIN1069" name="RIWIN1069"></a>
<h1 class="chapter"><span class="secnum">8</span> Removing Oracle Real Application Clusters Software</h1>
<p>This chapter describes how to completely remove all Oracle databases, instances, and software from an Oracle Real Application Clusters (Oracle RAC) Oracle home directory.</p>
<p>This chapter contains the following topics:</p>
<ul>
<li>
<p><a href="#CCHIFJGH">Overview of the Deinstall Tool</a></p>
</li>
<li>
<p><a href="#CHDFJFBG">Deinstalling Oracle RAC Software</a></p>
</li>
</ul>
<div class="infoboxnotealso">
<p class="notep1">See Also:</p>
The product-specific documentation if you want to remove a single product to ensure that you are aware of requirements and restrictions that apply for that product</div>
<a id="CCHIFJGH" name="CCHIFJGH"></a><a id="RIWIN1070" name="RIWIN1070"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.1</span> Overview of the Deinstall Tool</h2>
<p><a id="sthref398" name="sthref398"></a>The Deinstallation tool removes Oracle Clusterware and Oracle Automatic Storage Management (Oracle ASM) from your server, as well as Oracle Real Application Clusters (Oracle RAC) or standalone Oracle Database installations. The deinstall tool performs the follows actions when removing software from an Oracle home directory:</p>
<ul>
<li>
<p>Identifies all instances associated with the Oracle home</p>
</li>
<li>
<p>Shuts down processes</p>
</li>
<li>
<p>Removes listeners installed in the Oracle Database home</p>
</li>
<li>
<p>Removes database instances</p>
</li>
<li>
<p>Removes Oracle Automatic Storage Management and Oracle Clusterware</p>
</li>
</ul>
<div class="infoboxnote">
<p class="notep1">Note:</p>
<ul>
<li>
<p>You cannot remove or uninstall the Oracle Database Vault option. However, you can disable it. Refer to <span class="italic">Oracle Database Vault Administrator's Guide</span> for more details.</p>
</li>
<li>
<p>You can remove Oracle Configuration Manager. Refer to <span class="italic">Oracle Configuration Manager Installation and Administration Guide</span> for more details.</p>
</li>
<li>
<p>You cannot remove or uninstall Oracle ASM separately from Oracle Clusterware or install it in a location outside of the Grid infrastructure home with Oracle Database 11<span class="italic">g</span> release 2 (11.2).</p>
</li>
</ul>
</div>
<div class="infoboxnote">
<p class="notep1">Caution:</p>
If any cluster member node has more than one database with the same global database name (GDN) on a server, then you cannot use the <code>deinstall.bat</code> tool to remove one database only. For example, if you have a standalone database on one of your cluster nodes with the GDN <code>mydb.example.com</code>, and your Oracle RAC database GDN is also <code>mydb.example.com</code>, then both databases on that node are removed.</div>
</div>
<!-- class="sect1" -->
<a id="CHDFJFBG" name="CHDFJFBG"></a><a id="RIWIN1072" name="RIWIN1072"></a>
<div class="sect1"><!-- infolevel="all" infotype="General" -->
<h2 class="sect1"><span class="secnum">8.2</span> Deinstalling Oracle RAC Software</h2>
<p>The following sections describe the script, and provide information about additional options to use the tool:</p>
<ul>
<li>
<p><a href="#CBHIHHEA">About the Deinstallation Tool</a></p>
</li>
<li>
<p><a href="#CBHEJHJB">Example of Running the Deinstall Command for Oracle RAC</a></p>
</li>
<li>
<p><a href="#CBHHBFJD">Example of a Deinstallation Parameter File for Oracle RAC</a></p>
</li>
</ul>
<a id="CBHIHHEA" name="CBHIHHEA"></a><a id="RIWIN1073" name="RIWIN1073"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.2.1</span> About the Deinstallation Tool</h3>
<p>The Deinstallation Tool (<code>deinstall.bat</code>) is available in the installation media before installation, and is available in Oracle home directories after installation in the directory <code>%ORACLE_HOME%\deinstall</code>. The Deinstallation tool is also available for download from Oracle TechNet (<code><a href="http://www.oracle.com/technology">http://www.oracle.com/technology</a></code>). You can download it with the complete Oracle Database 11<span class="italic">g</span> release 2 software, or as a separate archive file.</p>
<p>The <code>deinstall.bat</code> command uses the information you provide, plus information gathered from the software home to create a parameter file. You can alternatively supply a parameter file generated previously by the <code>deinstall.bat</code> command using the <code>-checkonly</code> flag and <code>-o</code> flag. You can also edit a response file template to create a parameter file.</p>
<p>The Deinstallation tool stops Oracle services, instances, and processes, and removes Oracle software and configuration files on the operating system for a specific Oracle home. At the end of the deinstallation process you are prompted to run the <code>rootcrs.pl</code> script as a user that is a member of the Administrators group.</p>
<p>The <code>deinstall.bat</code> command uses the following syntax, where variable content is indicated by italics:</p>
<pre xml:space="preserve" class="oac_no_warn">deinstall -home <span class="italic">complete path of Oracle home</span> [-silent] [-checkonly] [-local]
[-paramfile <span class="italic">complete path of input parameter property file</span>] [-params name1=<span class="italic">value</span>
name2=<span class="italic">value</span> . . .] [-o <span class="italic">complete path of directory for saving files</span>] [-help | -h]
 
</pre>
<p>The options are:</p>
<ul>
<li>
<p><code>-home</code></p>
<p>Use this flag to indicate the home path of the Oracle home that you want to check or deinstall. To deinstall Oracle software using the Deinstallation tool located in the Oracle home being removed, provide a parameter file a location outside the Oracle home, and do not use the <code>-home</code> flag.</p>
<p>If you run deinstall from the <code><span class="codeinlineitalic">Oracle_home</span></code><code>\deinstall</code> path, then the <code>-home</code> flag is not required because the tool knows from which home it is being run. If you use the standalone version of the tool, then <code>-home</code> is mandatory</p>
</li>
<li>
<p>-<code>silent</code></p>
<p>Use this flag to run the command in noninteractive mode. If you use the <code>-silent</code> flag, then you must use the <code>-paramFile</code> flag, and provide a properties file that contains the configuration values for the Oracle home that you want to deinstall or deconfigure.</p>
<p>You can generate a properties file to use or modify by running <code>deinstall.bat</code> with the <code>-checkonly</code> flag. The <code>deinstall.bat</code> command then discovers information from the Oracle home that you want to deinstall and deconfigure. It generates the properties file, which you can then use with the <code>-silent</code> option</p>
<p>You can also modify the template file <code>deinstall.rsp.tmpl</code>, located in the <code>response</code> folder of the Deinstallation tool archive or installation.</p>
</li>
<li>
<p><code>-checkonly</code></p>
<p>Use this flag to check the status of the Oracle software home configuration. Running the command with the <code>checkonly</code> flag does not remove the Oracle configuration. The <code>checkonly</code> flag generates a properties file that you can use with the <code>deinstall.bat</code> command.</p>
<p>When you run <code>checkonly</code> to generate a properties file, you are prompted to provide information about your system. You can accept the default value the tool has obtained from your Oracle installation, indicated inside brackets ([]), or you can provide different values. To accept the defaults, click <span class="bold">Enter</span>.</p>
</li>
<li>
<p><code>-local</code></p>
<p>Use this flag on a multinode environment to deconfigure Oracle software in a cluster.</p>
<p>When you run <code>deinstall.bat</code> with this flag, it deconfigures and deinstalls the Oracle software on the local node (the node on which you run <code>deinstall.bat</code>). On remote nodes, it deconfigures Oracle software, but does not deinstall the Oracle software.</p>
</li>
<li>
<p><code>-paramfile</code> <code><span class="codeinlineitalic">complete path of input parameter property file</span></code></p>
<p>This is an optional flag. You can use this flag to run <code>deinstall.bat</code> with a parameter file in a location other than the default. When you use this flag, provide the complete path where the parameter file is located.</p>
<p>The default location of the parameter file depends on the location of the Deinstallation tool:</p>
<ul>
<li>
<p>From the installation media or stage location: <code>&lt;</code><span class="italic">Drive</span><code>&gt;:\</code><span class="italic">staging_location</span><code>\deinstall\response</code></p>
</li>
<li>
<p>From a unzipped archive file downloaded from OTN: &lt;<span class="italic">Drive</span>&gt;:\<span class="italic">ziplocation</span><code>\deinstall\response</code>, where &lt;<span class="italic">Drive</span>&gt;:\<span class="italic">ziplocation</span> refers to the directory in which the downloaded archive file was extracted.</p>
</li>
<li>
<p>After installation, from the installed Oracle home: <code>%ORACLE_HOME%\deinstall\response</code></p>
</li>
</ul>
</li>
<li>
<p><code>-params</code> [<code>name1</code>=<code><span class="codeinlineitalic">value</span></code> <code>name2</code>=<code><span class="codeinlineitalic">value</span></code> <code>name3</code>=<code><span class="codeinlineitalic">value</span></code> . . .]</p>
<p>Use this flag with a parameter file to override one or more values that you want to change in a parameter file you have already created.</p>
</li>
<li>
<p>-<code>o</code> <code><span class="codeinlineitalic">complete path of directory for saving response files</span></code></p>
<p>Use this flag to provide a path other than the default location where the properties file (<code>deinstall.rsp.tmpl</code>) is saved.</p>
<p>The default location of the properties file depends on the location of the Deinstallation tool:</p>
<ul>
<li>
<p>From the installation media or stage location: <code>&lt;</code><span class="italic">Drive</span><code>&gt;:\</code><span class="italic">staging_location</span><code>\deinstall\response</code></p>
</li>
<li>
<p>From a unzipped archive file downloaded from OTN: &lt;<span class="italic">Drive</span>&gt;:\<span class="italic">ziplocation</span><code>\response</code>, where &lt;<span class="italic">Drive</span>&gt;:\<span class="italic">ziplocation</span> refers to the location of the downloaded archive file</p>
</li>
<li>
<p>After installation, from the installed Oracle home: <code>%ORACLE_HOME%\deinstall\response</code></p>
</li>
</ul>
</li>
<li>
<p><code>-help | -h</code></p>
<p>Use the help option (<code>-help</code> or <code>-h</code>) to obtain additional information about the command options and flags.</p>
</li>
</ul>
<p>If you use <a id="sthref399" name="sthref399"></a>the <code>deinstall.bat</code> command located in an Oracle home, or the <code>deinstall.bat</code> command downloaded from Oracle TechNet (not installed in an Oracle home), then it writes log files in the <code>C:\Program Files\Oracle\Inventory\</code><code>logs</code> directory. If, however, you are using the <code>deinstall.bat</code> command to removed the last Oracle home installed on the server, then the log files are written to:</p>
<ul>
<li>
<p><code>%TEMP%\OraDeinstall</code>&lt;<code><span class="codeinlineitalic">timestamp</span></code>&gt;<code>\logs</code> if you use the <code>deinstall.bat</code> command located in the Oracle home</p>
</li>
<li>
<p>&lt;<span class="italic">Drive</span>&gt;<code>:\</code><code><span class="codeinlineitalic">ziplocation</span></code><code>\deinstall\</code><code>logs</code> if you use the <code>deinstall.bat</code> command downloaded from Oracle TechNet</p>
</li>
</ul>
</div>
<!-- class="sect2" -->
<a id="CBHEJHJB" name="CBHEJHJB"></a><a id="RIWIN1074" name="RIWIN1074"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.2.2</span> Example of Running the Deinstall Command for Oracle RAC</h3>
<p>If you use the separately downloaded version of <code>deinstall.bat</code>, then <a id="sthref400" name="sthref400"></a>when the <code>deinstall.bat</code> command runs, you are prompted to provide the home directory of the Oracle software that you want to remove from your system. Provide additional information as prompted.</p>
<p>To run the <code>deinstall.bat</code> command located in an Oracle Database home in the path <code>C:\app\oracle\product\11.2.0\dbhome_1</code>, enter the following command while logged in as a member of the Administrators group:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; cd app\oracle\product
C:\app\oracle\product&gt; 11.2.0\dbhome_1\deinstall\deinstall.bat
</pre>
<p>In the following example, use the <code>deinstall.bat</code> command in the path C:\app\oracle\product\deinstall to deinstall the Oracle home using a parameter file in the software owner location <code>C:\user\oracle</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">C:\&gt; cd app\oracle\product\deinstall
C:\deinstall&gt; deinstall -home C:\app\oracle\product\11.2.0\dbhome_1 -paramfile
C:\user\oracle\my_db_paramfile.tmpl
</pre></div>
<!-- class="sect2" -->
<a id="CBHHBFJD" name="CBHHBFJD"></a><a id="RIWIN1075" name="RIWIN1075"></a>
<div class="sect2"><!-- infolevel="all" infotype="General" -->
<h3 class="sect2"><span class="secnum">8.2.3</span> Example of a Deinstallation Parameter File for Oracle RAC</h3>
<p>The following is an example of a parameter file, in which the Oracle Database home (Oracle home) is in the path <code>C:\app\oracle\product\11.2.0\dbhome_1</code>, the Oracle base (where other Oracle software is installed) is <code>C:\app\oracle</code>, the central Oracle Inventory home (oraInventory) is <code>C:\Program Files\Oracle\Inventory</code>, the virtual IP address (VIP) is <code>192.0.2.1</code>, the local node (the node where you are running the deinstallation session from) is <code>node1</code>, and the remote node is <code>node2</code>:</p>
<pre xml:space="preserve" class="oac_no_warn">#Copyright (c) 2005, 2006 Oracle Corporation. All rights reserved.
#Wed Feb 11 16:30:21 PST 2009
DISK_GROUPS.typi=
REMOTE_NODES=node2
ORACLE_BASE.typi=C:\app\oracle
STORAGE_TYPE.typi=FS
ASM_HOME=
ASM_LOCAL_SID=
FLASH_RECOVERY_LOC.typi=
LOGDIR=C:\Program Files\Oracle\Inventory\logs\
DB_TYPE.typi=RAC_DB
ORACLE_BASE=C:\app\oracle
INVENTORY_LOCATION=C:\Program Files\Oracle\Inventory
NODE_LIST.typi=node1,node2
ARCHIVE_LOG_DESTINATION_LOC.typi=
ASM_FILES.typi=
LOCAL_SID.typi=typi1
CLUSTER_NODES=node1,node2
DB_UNIQUE_NAME_LIST=typi
RAW_MAPPING_FILE.typi=
ORA_CRS_HOME=C:\app\11.2.0\grid\
HOME_TYPE=RACDB
CRS_HOME=false
SID_LIST.typi=typi1,typi2
DATAFILE_LOC.typi=O:\ocfs\storage\database\oradata\typi
ORACLE_BINARY_OK=true
local=false
LOCAL_NODE=node1
CREATION_MODE.typi=y
CONFIGFILE_LOC.typi=O:\ocfs\storage\database\oradata\typi\control01.ctl,
O:\ocfs\storage\database\oradata\typi\control02.ctl,O:\ocfs\storage\
database\oradata\typi\control03.ctl,C:\app\oracle\product\11.2.0\dbhome_1\
dbs\dr1typi.dat,C:\app\oracle\product\11.2.0\dbhome_1\dbs\dr2typi.dat
DIAG_DEST.typi=C:\app\oracle\diag\rdbms\typi
SPFILE_LOC.typi=O:\ocfs\storage\database\oradata\typi\spfiletypi.ora
silent=true
ORACLE_HOME=C:\app\oracle\product\11.2.0\dbhome_1\
</pre></div>
<!-- class="sect2" --></div>
<!-- class="sect1" --></div>
<!-- class="ind" -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td align="left">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="98">
<tr>
<td align="center" valign="top"><a href="undrstnd.htm"><img width="24" height="24" src="../../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td align="center" valign="top"><a href="trouble.htm"><img width="24" height="24" src="../../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td style="font-size: 90%" align="center" class="copyrightlogo"><img width="144" height="18" src="../../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2007, 2010,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td align="right">
<table class="icons oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="245">
<tr>
<td align="center" valign="top"><a href="../../index.htm"><img width="24" height="24" src="../../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td align="center" valign="top"><a href="../../nav/portal_booklist.htm"><img width="24" height="24" src="../../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td align="center" valign="top"><a href="toc.htm"><img width="24" height="24" src="../../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td align="center" valign="top"><a href="index.htm"><img width="24" height="24" src="../../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td align="center" valign="top"><a href="../../dcommon/html/feedback.htm"><img width="24" height="24" src="../../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
